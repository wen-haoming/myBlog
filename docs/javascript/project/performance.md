---
title: 性能优化
toc: menu
nav:
    title: 性能优化
    path: /javascript/project
---

# 前端性能优化

## 页面哪些需要优化？

-   首屏时间
-   资源加载
-   交互响应
-   图片
-   渲染
-   滚动
-   动画

## 页面的速度跟三个因素有关

-   网络带宽速度
-   设备性能（CPU, GPU, 浏览器）
-   页面本身（JS, CSS）

## 一些法则

-   减少请求
-   合并，压缩
-   样式，css 雪碧图
-   外连内连
-   DNS
-   图片压缩
-   渲染优化

## RTT - Round-trip time

移动端天生就比有线的慢

3g：100-450 ms
4g：60-80 ms

DNS 查找 ---> TCP 连接 ---> HTTP 请求 ---> 服务端响应 ---> 客户端渲染

## 14kb 原则

## http 2.0

-   HTTP 1 时代
    -   异步接口合并 （Batch Ajax Request）
    -   图片合并，雪碧图
    -   CSS, JS 合并/内联
    -   图片，音频内联（Data URI）

> HTTP 性能的关键在于低延迟而不是高带宽

-   HTTP 2.0
    -   所有请求共用同一个链接，可以更有效的利用 TCP 链接，通过带宽来提升 HTTP 性能。
    -   可以减少服务器链接压力，内存占用少了，链接吞吐量大了。
    -   解决了浏览器连接数有限的问题。
    -   TCP 慢启动时间减少，拥塞和丢包回复速度更快。

> 资源合并减少请求，的优化手段对于 HTTP 2.0 来说没有效果。
