<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="/umi.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.3.7
    </script>
    <title>二进制相关api</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/javascript/api/binary" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" href="/">Ming仔</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>前端<ul><li><a href="/javascript/base">基础</a></li><li><a href="/javascript/business">业务</a></li><li><a aria-current="page" class="active" href="/javascript/api">浏览器API</a></li><li><a href="/javascript/react">react</a></li><li><a href="/javascript/vue">vue</a></li><li><a href="/javascript/webpack">webpack</a></li><li><a href="/javascript/project">项目实践</a></li></ul></span><span>python<ul><li><a href="/python/base">python语言学习</a></li><li><a href="/python/base2">python程序进阶</a></li><li><a href="/python/neuralnetwork">神经网络基础</a></li><li><a href="/python/tensoflow">Tensoflow</a></li></ul></span><span>书籍</span><span>计算机相关<ul><li><a href="/cs/base">基础</a></li></ul></span><span>杂七杂八<ul><li><a href="/order/efficiency">工作效率</a></li><li><a href="/order/think">个人思考</a></li></ul></span></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" href="/"></a><h1>Ming仔</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>前端<ul><li><a href="/javascript/base">基础</a></li><li><a href="/javascript/business">业务</a></li><li><a aria-current="page" class="active" href="/javascript/api">浏览器API</a></li><li><a href="/javascript/react">react</a></li><li><a href="/javascript/vue">vue</a></li><li><a href="/javascript/webpack">webpack</a></li><li><a href="/javascript/project">项目实践</a></li></ul></li><li>python<ul><li><a href="/python/base">python语言学习</a></li><li><a href="/python/base2">python程序进阶</a></li><li><a href="/python/neuralnetwork">神经网络基础</a></li><li><a href="/python/tensoflow">Tensoflow</a></li></ul></li><li>书籍</li><li>计算机相关<ul><li><a href="/cs/base">基础</a></li></ul></li><li>杂七杂八<ul><li><a href="/order/efficiency">工作效率</a></li><li><a href="/order/think">个人思考</a></li></ul></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/javascript/api">业务</a><ul><li><a aria-current="page" class="active" href="/javascript/api/binary"><span>二进制相关api</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="进制基础知识" data-depth="2"><a href="/javascript/api/binary#进制基础知识"><span>进制基础知识</span></a></li><li title="原码" data-depth="3"><a href="/javascript/api/binary#原码"><span>原码</span></a></li><li title="反码" data-depth="3"><a href="/javascript/api/binary#反码"><span>反码</span></a></li><li title="补码" data-depth="3"><a href="/javascript/api/binary#补码"><span>补码</span></a></li><li title="小数点表示" data-depth="3"><a href="/javascript/api/binary#小数点表示"><span>小数点表示</span></a></li><li title="IEEE754标准" data-depth="2"><a href="/javascript/api/binary#ieee754标准"><span>IEEE754标准</span></a></li><li title="JS大数相加" data-depth="2"><a href="/javascript/api/binary#js大数相加"><span>JS大数相加</span></a></li><li title="计算机中的数据" data-depth="2"><a href="/javascript/api/binary#计算机中的数据"><span>计算机中的数据</span></a></li><li title="Object URL" data-depth="2"><a href="/javascript/api/binary#object-url"><span>Object URL</span></a></li><li title="Blob API" data-depth="2"><a href="/javascript/api/binary#blob-api"><span>Blob API</span></a></li><li title="Array Buffer 与 typeArray" data-depth="2"><a href="/javascript/api/binary#array-buffer-与-typearray"><span>Array Buffer 与 typeArray</span></a></li><li title="Blob 与 ArrayBuffer" data-depth="2"><a href="/javascript/api/binary#blob-与-arraybuffer"><span>Blob 与 ArrayBuffer</span></a></li><li title="DataView 与 ArrayBuffer" data-depth="2"><a href="/javascript/api/binary#dataview-与-arraybuffer"><span>DataView 与 ArrayBuffer</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="二进制相关"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#二进制相关"><span class="icon,icon-link"></span></a>二进制相关</h1><blockquote><p>工作的时候遇到过表单导出Excel表格，接口返回的数据是一个二进制流，那时我在进行下载的时候如果使用的 ajax 的 api 是需要加入 <code>responseType: Bolb</code> ，不然是无法下载正确的二进制流数据，另一种方式是使用 fetch api 在返回的时候直接转化 <code>Blob</code> 格式，这也让我产生了一个疑问，Blob到底是什么，前端处理二进制流还有什么玩法，更重要的是前端处理相关？</p></blockquote><h2 id="进制基础知识"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#进制基础知识"><span class="icon,icon-link"></span></a>进制基础知识</h2><ol><li><p>基数R，R代表基本数码个数，二进制就是0和1这两个数，R进制的主要特点就是逢R进一，</p></li><li><p>位权 Wi 是指第i位上的数码的<code>权重值</code> ，位权与数码所处的的位置<code>i</code> 有关 例如：</p><ul><li>R=10（十进制数），各个数码的权为10^i，i表示数码所处的位置。</li><li>个位i=0，位权是10^0=1。</li><li>十位i=1，位权是10^1=10。</li><li>(22.22)(十进制) = 2<em>10^1 + 2</em>10^0 + 2<em>10^-1 + 2</em>10^-2</li></ul></li><li><p>二进制转十进制</p><p>按权展开，加权求和，以(11.11)(二进制为例) 1<em>2^2+1</em>2^1+1<em>2^0+1</em>2^-1+1*2^-2</p></li><li><p>十进制转二进制</p><ul><li>整数部分：除2取余，直到商为0，最先得到余数是最低位，最后得到的余数是最高位。</li><li>小数部分：乘2取整，直到积为0或者直到精度要求为止，最先得到证书是最高位。</li></ul></li></ol><h3 id="原码"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#原码"><span class="icon,icon-link"></span></a>原码</h3><p>原码(true form)是一种计算机中对数字的二进制定点表示方法。原码表示法在数值前面增加了一位符号位（即最高位为符号位）：正数该位为0，负数该位为1（0有两种表示：+0和-0），其余位表示数值的大小。</p><p>优点：</p><ul><li>我们用8位二进制表示一个数，+11的原码为00001011，-11的原码就是10001011</li></ul><p>缺点：</p><ul><li>原码不能直接参加运算，可能会出错。例如数学上，1+(-1)=0，而在二进制中 00000001+10000001=10000010，换算成十进制为-2。显然出错了，所以原码的符号位不能直接参与运算，必须和其他位分开，这就增加了硬件的开销和复杂性</li></ul><h3 id="反码"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#反码"><span class="icon,icon-link"></span></a>反码</h3><p>正数不变，附属的除符号位外取反，反码通常是用来由原码求补码或者由补码求原码的过渡码。</p><h3 id="补码"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#补码"><span class="icon,icon-link"></span></a>补码</h3><p>正数不变，负数在反码的基础加1，补码是计算机把减法运算转化为加法运算的关键编码。</p><h3 id="小数点表示"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#小数点表示"><span class="icon,icon-link"></span></a>小数点表示</h3><p>在计算机中，小数点极其位置是隐含规定的，小数点并不占用存储空间。</p><ul><li>定点数：小数点的位置是固定不变的，分为定点整数和定点小数。</li><li>浮点数：小数点的位置是会变化的。<ul><li>对于既不是定点整数，也不是定点小数的数用<strong>浮点数</strong>表示</li><li>在计算机中通常把浮点数N分成<strong>阶码</strong>和<strong>尾数</strong>两部分来表示</li><li>小数点位置由<strong>阶码</strong>规定，因此是浮动的。</li><li>3.5(10进制) = 11.1(2进制) = 0.111*2^10</li></ul></li></ul><h2 id="ieee754标准"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#ieee754标准"><span class="icon,icon-link"></span></a>IEEE754标准</h2><p>javascript采用的是双精度（64位） 符号位决定了一个数的正负，指数部分决定了数值的大小，小数有效位部分决定了数值的精度。</p><ul><li>符号位（第一位）</li><li>指数位（2~12共11位） 注意：这是二进制</li><li>小数有效位（13~64共52位） 注意：这是二进制</li></ul><p>3.5(十进制) = 11.1(二进制) = 0.111*2^10 (指数位二进制)</p><blockquote><p>为什么 0.1 + 0.2 != 0.3?</p><p>因为0.1 和0.3 转化为二进制的时候都是一个无线循环的小数，导致最后的结果存在精度差异。</p></blockquote><h2 id="js大数相加"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#js大数相加"><span class="icon,icon-link"></span></a>JS大数相加</h2><p>为什么需要这个，因为 js 遵循 IEEE754 标准，所以数值都是有范围的，其中 js 获取最大值是<code>Number.MAX_VALUE</code></p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> numa </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;1231231231231233&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> numb </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&#x27;1231231231231233&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">bigAdd</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter">b</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token plain"> </span></div><div class="token-line"><span class="token plain">    a </span><span class="token operator">=</span><span class="token plain"> a</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token plain">item</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    b </span><span class="token operator">=</span><span class="token plain"> b</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token plain">item</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">   </span><span class="token keyword">let</span><span class="token plain"> targetArr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">&gt;=</span><span class="token plain"> b</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token operator">?</span><span class="token plain">a</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">:</span><span class="token plain">b</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain">    </span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">   </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain">i </span><span class="token operator">&lt;</span><span class="token plain"> a</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain">i</span><span class="token operator">++</span><span class="token plain"> </span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        targetArr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> a</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">   </span><span class="token keyword">let</span><span class="token plain"> up </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> b</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">         targetArr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> targetArr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> b</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> up</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token plain">targetArr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        targetArr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> targetArr</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">%</span><span class="token number">10</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">             up </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">             up </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain">   </span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">return</span><span class="token plain"> targetArr</span><span class="token punctuation">.</span><span class="token method function property-access">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">bigAdd</span><span class="token punctuation">(</span><span class="token plain">numa</span><span class="token punctuation">,</span><span class="token plain">numb</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>列竖式方法，从低位想最高位计算。</p><h2 id="计算机中的数据"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#计算机中的数据"><span class="icon,icon-link"></span></a>计算机中的数据</h2><ul><li>数据<ul><li>数值数据<ul><li>无符号数据</li><li>有符号数据</li></ul></li><li>非数值数据<ul><li>文字</li><li>图像</li></ul></li></ul></li></ul><p>大纲:</p><ol><li>数据输出<ol><li>Data URL</li><li>Object URL</li></ol></li><li>Blob</li><li>ArrayBuffer</li><li>typedArray</li><li></li></ol><h1 id="浏览器相关api"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#浏览器相关api"><span class="icon,icon-link"></span></a>浏览器相关api</h1><h2 id="object-url"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#object-url"><span class="icon,icon-link"></span></a>Object URL</h2><h2 id="blob-api"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#blob-api"><span class="icon,icon-link"></span></a>Blob API</h2><h2 id="array-buffer-与-typearray"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#array-buffer-与-typearray"><span class="icon,icon-link"></span></a>Array Buffer 与 typeArray</h2><h2 id="blob-与-arraybuffer"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#blob-与-arraybuffer"><span class="icon,icon-link"></span></a>Blob 与 ArrayBuffer</h2><h2 id="dataview-与-arraybuffer"><a aria-hidden="true" tabindex="-1" href="/javascript/api/binary#dataview-与-arraybuffer"><span class="icon,icon-link"></span></a>DataView 与 ArrayBuffer</h2></div><div class="__dumi-default-layout-footer-meta"><span data-updated-text="最后更新时间：">2/15/2021 11:46:53</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/umi.js"></script>
  </body>
</html>
